"use strict";(self.webpackChunkchat_angular=self.webpackChunkchat_angular||[]).push([[178],{1178:(N,m,i)=>{i.r(m),i.d(m,{MainModule:()=>H});var n=i(4650),g=i(6895),l=i(1202),c=i(433),C=i(4986),M=i(7272),h=i(5698),f=i(4482),O=i(5403),P=i(5032),b=i(9718),x=i(5577);function p(t,a){return a?e=>(0,M.z)(a.pipe((0,h.q)(1),function _(){return(0,f.e)((t,a)=>{t.subscribe((0,O.x)(a,P.Z))})}()),e.pipe(p(t))):(0,x.z)((e,o)=>t(e,o).pipe((0,h.q)(1),(0,b.h)(e)))}var y=i(9751),v=i(3532);var A=i(529);let u=(()=>{class t{constructor(e){this.http=e,this.chats=[{userId:1,avatar:"../../../assets/images/women_1.jpg",name:"Alice Freeman",time:"Jun 12, 2017",latestMessage:"You are the best!!",messages:[{id:1,value:"You are the best!!",time:"06/12/2017, 4:00 AM",me:!1},{id:2,value:"I am fine thanks",time:"06/12/2017, 3:00 AM",me:!0},{id:3,value:"How are you?",time:"06/12/2017, 2:00 AM",me:!1}]},{userId:2,avatar:"../../../assets/images/women_2.jpg",name:"Josefina",time:"Feb 18, 2017",latestMessage:"We are losing money!Quick!",messages:[{id:1,value:"We are losing money!Quick!",time:"06/12/2017, 4:00 AM",me:!1},{id:2,value:"I am fine thanks",time:"06/12/2017, 3:00 AM",me:!0},{id:3,value:"How are you?",time:"06/12/2017, 2:00 AM",me:!1}]},{userId:3,avatar:"../../../assets/images/men_1.jpg",name:"Velazquez",time:"Mar 18, 2017",latestMessage:"Quckly come to the meeting room 1B, we have a big server issue",messages:[{id:1,value:"Quckly come to the meeting room 1B, we have a big server issue",time:"06/12/2017, 4:00 AM",me:!1},{id:2,value:"I am fine thanks",time:"06/12/2017, 3:00 AM",me:!0},{id:3,value:"How are you?",time:"06/12/2017, 2:00 AM",me:!1}]},{userId:4,avatar:"../../../assets/images/men_2.jpg",name:"Barrera",time:"Feb 18, 2017",latestMessage:"lol",messages:[{id:1,value:"lol",time:"06/12/2017, 4:00 AM",me:!1},{id:2,value:"I am fine thanks",time:"8:21",me:!0},{id:3,value:"How are you?",time:"8:21",me:!1}]}]}getData(){if(sessionStorage.length>0)return JSON.parse(sessionStorage.getItem("chat"));{let e=[];return this.chats.forEach(o=>{e.push(o)}),e}}getAnswerData(){return this.http.get("https://api.chucknorris.io/jokes/random").pipe(function S(t,a=C.z){const e=function Z(t=0,a,e=C.P){let o=-1;return null!=a&&((0,v.K)(a)?e=a:o=a),new y.y(s=>{let r=function w(t){return t instanceof Date&&!isNaN(t)}(t)?+t-e.now():t;r<0&&(r=0);let d=0;return e.schedule(function(){s.closed||(s.next(d++),0<=o?this.schedule(void 0,o):s.complete())},r)})}(t,a);return p(()=>e)}(5e3))}}return t.\u0275fac=function(e){return new(e||t)(n.LFG(A.eN))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const T=function(t){return{me:t}};function k(t,a){if(1&t&&(n.TgZ(0,"div",13)(1,"div",14),n._uU(2),n.qZA(),n.TgZ(3,"div",15),n._uU(4),n.qZA()()),2&t){const e=a.$implicit;n.Q6J("ngClass",n.VKq(3,T,e.me)),n.xp6(2),n.hij(" ",e.value,""),n.xp6(2),n.Oqu(e.time)}}let F=(()=>{class t{constructor(e){this.dataList=e}ngOnInit(){this.form=new c.cw({message:new c.NI("",[c.kI.required,c.kI.minLength(1)])})}onSubmit(e){if(e.valid){let o=e.value.message.trim();this.message="",this.chat.latestMessage=o,this.chat.time=(new Date).toLocaleDateString("en-us",{month:"short",day:"numeric",year:"numeric"}),this.chat.messages.unshift({value:o,time:(new Date).toLocaleDateString("en-us",{month:"numeric",day:"numeric",year:"numeric",hour:"numeric",minute:"numeric"}),me:!0}),this.userId=this.chat.userId,this.sendAnswerMessage(),this.form.reset()}}sendAnswerMessage(){this.dataList.getAnswerData().subscribe(e=>{let o=e.value;this.chat.latestMessage=o,this.chat.time=(new Date).toLocaleDateString("en-us",{month:"short",day:"numeric",year:"numeric"}),this.chat.messages.unshift({value:o,time:(new Date).toLocaleDateString("en-us",{month:"numeric",day:"numeric",year:"numeric",hour:"numeric",minute:"numeric"}),me:!1})})}ngAfterContentChecked(){}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(u))},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-chat"]],inputs:{chat:"chat"},decls:15,vars:4,consts:[["id","container"],["id","header"],[1,"avatarSection"],[1,"picture"],[3,"src"],[1,"nameSection"],["id","body"],["class","message",3,"ngClass",4,"ngFor","ngForOf"],["id","send-message"],["id","textarea"],["novalidate","",3,"formGroup","ngSubmit"],["formControlName","message",3,"keyup.enter"],["id","send-icon","type","image","src","../../assets/images/Send-03.svg"],[1,"message",3,"ngClass"],[1,"messageContent"],[1,"time"]],template:function(e,o){1&e&&(n.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),n._UZ(4,"img",4),n.qZA(),n.TgZ(5,"div",5),n._uU(6),n.qZA()()(),n.TgZ(7,"div",6),n.YNc(8,k,5,5,"div",7),n.qZA(),n.TgZ(9,"div",8)(10,"div",9)(11,"form",10),n.NdJ("ngSubmit",function(){return o.onSubmit(o.form)}),n.TgZ(12,"textarea",11),n.NdJ("keyup.enter",function(){return o.onSubmit(o.form)}),n._uU(13,"        "),n.qZA(),n._UZ(14,"input",12),n.qZA()()()()),2&e&&(n.xp6(4),n.s9C("src",o.chat.avatar,n.LSH),n.xp6(2),n.hij(" ",o.chat.name,""),n.xp6(2),n.Q6J("ngForOf",o.chat.messages),n.xp6(3),n.Q6J("formGroup",o.form))},dependencies:[g.mk,g.sg,c._Y,c.Fj,c.JJ,c.JL,c.sg,c.u],styles:["#container[_ngcontent-%COMP%]{display:flex;width:100%;height:100%;background-color:#2a148b0d;flex-direction:column}#container[_ngcontent-%COMP%]   #header[_ngcontent-%COMP%]{min-height:5em;background-color:#eee;box-shadow:2px 0 4px #ccc;display:flex;justify-content:space-between;align-items:center}#container[_ngcontent-%COMP%]   #header[_ngcontent-%COMP%]   .avatarSection[_ngcontent-%COMP%]{display:flex}#container[_ngcontent-%COMP%]   #header[_ngcontent-%COMP%]   .avatarSection[_ngcontent-%COMP%]   .picture[_ngcontent-%COMP%]{flex-basis:5em;margin:0 10px}#container[_ngcontent-%COMP%]   #header[_ngcontent-%COMP%]   .avatarSection[_ngcontent-%COMP%]   .picture[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%;object-fit:cover}#container[_ngcontent-%COMP%]   #header[_ngcontent-%COMP%]   .avatarSection[_ngcontent-%COMP%]   .nameSection[_ngcontent-%COMP%]{flex-grow:1;color:#545454;display:flex;align-items:center}#container[_ngcontent-%COMP%]   #body[_ngcontent-%COMP%]{flex-grow:1;display:flex;flex-direction:column;flex-direction:column-reverse;padding:20px 50px}#container[_ngcontent-%COMP%]   #body[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{margin-top:10px;display:flex;align-items:flex-start;flex-direction:column;transition-timing-function:cubic-bezier(.4,-.04,1,1);animation-name:slideFromLeft}#container[_ngcontent-%COMP%]   #body[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]:nth-of-type(1){animation-duration:.15s}#container[_ngcontent-%COMP%]   #body[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]:nth-of-type(2){animation-duration:.3s}#container[_ngcontent-%COMP%]   #body[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]:nth-of-type(3){animation-duration:.45s}#container[_ngcontent-%COMP%]   #body[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]:nth-of-type(4){animation-duration:.6s}#container[_ngcontent-%COMP%]   #body[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]:nth-of-type(5){animation-duration:.75s}#container[_ngcontent-%COMP%]   #body[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]:nth-of-type(6){animation-duration:.9s}#container[_ngcontent-%COMP%]   #body[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]:nth-of-type(7){animation-duration:1.05s}#container[_ngcontent-%COMP%]   #body[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]:nth-of-type(8){animation-duration:1.2s}#container[_ngcontent-%COMP%]   #body[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]:nth-of-type(9){animation-duration:1.35s}#container[_ngcontent-%COMP%]   #body[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]:nth-of-type(10){animation-duration:1.5s}#container[_ngcontent-%COMP%]   #body[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]   .messageContent[_ngcontent-%COMP%]{max-width:80%;background-color:#131e66c9;border-radius:20px;padding:10px;color:#eee}#container[_ngcontent-%COMP%]   #body[_ngcontent-%COMP%]   .message.me[_ngcontent-%COMP%]{align-items:flex-end;animation-name:slideFromRight}#container[_ngcontent-%COMP%]   #body[_ngcontent-%COMP%]   .message.me[_ngcontent-%COMP%]   .messageContent[_ngcontent-%COMP%]{background-color:#dcdfd9d8;color:#545454}#container[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]{text-align:right;color:#959698;font-size:.6em;margin-top:5px}#container[_ngcontent-%COMP%]   #send-message[_ngcontent-%COMP%]{min-height:67px;background-color:#f0eeed;display:flex}#container[_ngcontent-%COMP%]   #send-message[_ngcontent-%COMP%]   #textarea[_ngcontent-%COMP%], #container[_ngcontent-%COMP%]   #send-message[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{flex-grow:1;display:flex;justify-content:space-between;align-items:center}#container[_ngcontent-%COMP%]   #send-message[_ngcontent-%COMP%]   #textarea[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%], #container[_ngcontent-%COMP%]   #send-message[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;height:2.6em;border:0px;border-radius:20px;resize:none;outline:none;margin:0% 2%;padding:10px;font-family:sans-serif;box-sizing:border-box}#container[_ngcontent-%COMP%]   #send-message[_ngcontent-%COMP%]   #send-icon[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;max-width:3%;margin-right:5%;cursor:pointer}@keyframes slideFromLeft{0%{margin-left:-70px;opacity:0}to{margin-left:0;opacity:1}}@keyframes slideFromRight{0%{margin-right:-200px;opacity:0}to{margin-right:0;opacity:1}}"]}),t})(),I=(()=>{class t{transform(e,o){return e?o?(o=o.toLowerCase(),e.filter(function(s){return s.name.toLowerCase().includes(o)})):e:null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=n.Yjl({name:"searchFilter",type:t,pure:!0}),t})();function j(t,a){if(1&t){const e=n.EpF();n.TgZ(0,"div",10),n.NdJ("click",function(){const r=n.CHM(e).$implicit,d=n.oxw();return n.KtG(d.chatClicked.emit(r))}),n.TgZ(1,"div",11),n._UZ(2,"img",12),n.qZA(),n.TgZ(3,"div",13)(4,"div",14)(5,"div",15),n._uU(6),n.qZA(),n.TgZ(7,"div",16),n._uU(8),n.qZA()(),n.TgZ(9,"div",17),n._uU(10),n.qZA()()()}if(2&t){const e=a.$implicit;n.xp6(2),n.s9C("src",e.avatar,n.LSH),n.xp6(4),n.Oqu(e.name),n.xp6(2),n.Oqu(e.time),n.xp6(2),n.hij(" ",e.latestMessage," ")}}let J=(()=>{class t{constructor(e){this.dataList=e,this.chatClicked=new n.vpe}ngOnInit(){this.chats=this.dataList.getData()}sortChats(){this.chats.sort(function(e,o){return new Date(o.time).getTime()-new Date(e.time).getTime()})}ngAfterViewChecked(){sessionStorage.setItem("chat",JSON.stringify(this.chats)),this.sortChats()}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(u))},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-sidebar"]],outputs:{chatClicked:"chatClicked"},decls:13,vars:5,consts:[["id","sidebar"],["id","row1"],["id","sidebarHeader"],[1,"avatarContainer"],["src","../../assets/images/noImg.svg"],["id","searchBox"],["width","19","src","../../assets/images/searchIcon.svg"],["type","text","placeholder","Search or start the new chat",3,"ngModel","ngModelChange"],["id","sidebarContent"],["class","chat",3,"click",4,"ngFor","ngForOf"],[1,"chat",3,"click"],[1,"picture"],[3,"src"],[1,"content"],[1,"chatHeader"],[1,"name"],[1,"time"],[1,"message"]],template:function(e,o){1&e&&(n.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),n._UZ(4,"img",4),n.qZA()(),n.TgZ(5,"div",5),n._UZ(6,"img",6),n.TgZ(7,"input",7),n.NdJ("ngModelChange",function(r){return o.searchText=r}),n.qZA()()(),n.TgZ(8,"div",8)(9,"h3"),n._uU(10,"Chats"),n.qZA(),n.YNc(11,j,11,4,"div",9),n.ALo(12,"searchFilter"),n.qZA()()),2&e&&(n.xp6(7),n.Q6J("ngModel",o.searchText),n.xp6(4),n.Q6J("ngForOf",n.xi3(12,2,o.chats,o.searchText)))},dependencies:[g.sg,c.Fj,c.JJ,c.On,I],styles:["#sidebar[_ngcontent-%COMP%]{width:100%;height:100%;border-right:1px solid #e1e4e5;display:flex;flex-direction:column}#sidebar[_ngcontent-%COMP%]   #row1[_ngcontent-%COMP%]{display:flex;flex-direction:column}#sidebar[_ngcontent-%COMP%]   #row1[_ngcontent-%COMP%]   #sidebarHeader[_ngcontent-%COMP%]{flex-basis:5em;background-color:#eee;display:flex;flex-direction:row;align-items:center;padding-left:20px;padding-right:20px;justify-content:space-between}#sidebar[_ngcontent-%COMP%]   #row1[_ngcontent-%COMP%]   #sidebarHeader[_ngcontent-%COMP%]   .avatarContainer[_ngcontent-%COMP%]{height:3em}#sidebar[_ngcontent-%COMP%]   #row1[_ngcontent-%COMP%]   #sidebarHeader[_ngcontent-%COMP%]   .avatarContainer[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%}#sidebar[_ngcontent-%COMP%]   #row1[_ngcontent-%COMP%]   #searchBox[_ngcontent-%COMP%]{flex-basis:3em;background-color:#fbfbfb;border-bottom:1px solid #e1e4e5;display:flex;align-items:center;justify-content:center}#sidebar[_ngcontent-%COMP%]   #row1[_ngcontent-%COMP%]   #searchBox[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;left:30px}#sidebar[_ngcontent-%COMP%]   #row1[_ngcontent-%COMP%]   #searchBox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:calc(90% - 60px);border:none;border-radius:20px;height:70%;padding-left:60px;color:#a4a4a4;outline:none;box-shadow:0 0 3px #efefef}#sidebar[_ngcontent-%COMP%]   #row1[_ngcontent-%COMP%]   #searchBox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#a4a4a4;font-weight:100}#sidebar[_ngcontent-%COMP%]   #sidebarContent[_ngcontent-%COMP%]{flex-grow:1;overflow:auto}#sidebar[_ngcontent-%COMP%]   #sidebarContent[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#2a148b;margin-left:1em}#sidebar[_ngcontent-%COMP%]   #sidebarContent[_ngcontent-%COMP%]   .chat[_ngcontent-%COMP%]{height:4.5em;display:flex;padding-right:5px;transition:all .5s ease-in-out;justify-content:space-between;cursor:pointer}#sidebar[_ngcontent-%COMP%]   #sidebarContent[_ngcontent-%COMP%]   .chat[_ngcontent-%COMP%]:hover{background-color:#2a148b0d}#sidebar[_ngcontent-%COMP%]   #sidebarContent[_ngcontent-%COMP%]   .chat[_ngcontent-%COMP%]   .picture[_ngcontent-%COMP%]{flex-basis:5em;height:100%;display:flex;align-items:center;justify-content:center}#sidebar[_ngcontent-%COMP%]   #sidebarContent[_ngcontent-%COMP%]   .chat[_ngcontent-%COMP%]   .picture[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%;object-fit:cover}#sidebar[_ngcontent-%COMP%]   #sidebarContent[_ngcontent-%COMP%]   .chat[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{border-bottom:1px solid #f2f2f2;flex-grow:1;padding:13px 10px 13px 0;width:80%;overflow:hidden}#sidebar[_ngcontent-%COMP%]   #sidebarContent[_ngcontent-%COMP%]   .chat[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .chatHeader[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between}#sidebar[_ngcontent-%COMP%]   #sidebarContent[_ngcontent-%COMP%]   .chat[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .chatHeader[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{color:#040404}#sidebar[_ngcontent-%COMP%]   #sidebarContent[_ngcontent-%COMP%]   .chat[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .chatHeader[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]{color:#979797;font-size:13px;padding-top:2px}#sidebar[_ngcontent-%COMP%]   #sidebarContent[_ngcontent-%COMP%]   .chat[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{color:#717171;font-size:13px;padding-top:5px;display:flex;align-items:center}#sidebar[_ngcontent-%COMP%]   #sidebarContent[_ngcontent-%COMP%]   .chat[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-right:2px}"]}),t})();function D(t,a){if(1&t&&n._UZ(0,"app-chat",4),2&t){const e=n.oxw();n.Q6J("chat",e.chat)}}const L=[{path:"",component:(()=>{class t{onChatSelected(e){this.chat=e}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-main"]],decls:5,vars:1,consts:[["id","chatContainer"],[3,"chatClicked"],["id","chat"],[3,"chat",4,"ngIf"],[3,"chat"]],template:function(e,o){1&e&&(n.TgZ(0,"div",0)(1,"app-sidebar",1),n.NdJ("chatClicked",function(r){return o.onChatSelected(r)}),n.qZA(),n.TgZ(2,"div",2),n.YNc(3,D,1,1,"app-chat",3),n.qZA()(),n._UZ(4,"router-outlet")),2&e&&(n.xp6(3),n.Q6J("ngIf",o.chat))},dependencies:[g.O5,l.lC,F,J],styles:["#chatContainer[_ngcontent-%COMP%]{position:fixed;top:0%;bottom:0%;margin:auto;width:60%;height:80%;background-color:#fff;right:0px;left:0px;box-shadow:-1px 1px 5px #3333;display:flex;flex-direction:row;overflow:hidden;border-radius:20px}#chatContainer[_ngcontent-%COMP%]   app-sidebar[_ngcontent-%COMP%]{width:40%;flex-basis:40%;display:block;height:100%;border-right:1px solid #e8e8e8}#chatContainer[_ngcontent-%COMP%]   #chat[_ngcontent-%COMP%]{background-color:#f7f9fa;width:60%;height:100%}"]}),t})()}];let H=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[g.ez,l.Bz.forChild(L)]}),t})()}}]);